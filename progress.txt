[2026-01-22] Phase 1, Task 1: Fixed snowflake calculation to use BigInt instead of number
- Modified: apps/controller/src/utils/messages.ts:40-42
- Changed from ((timestamp - 1420070400000) * 4194304).toString() to ((BigInt(timestamp) - 1420070400000n) << 22n).toString()
- This fixes precision issues with Discord snowflake IDs that exceed 2^53
- Ran lint: passed with only pre-existing warnings
- Typecheck: pre-existing errors unrelated to this change

[2026-01-22] Phase 1, Task 2: Reworked message pagination to fetch backwards with before:
- Modified: apps/controller/src/utils/messages.ts:44-87
- Changed from forward pagination (after:) to backward pagination (before:)
- Removed initial snowflake calculation and consecutive empty batches logic
- Added messages.reverse() to maintain chronological order
- Stops correctly when < 100 messages returned or timeframe exceeded
- Ran lint: passed with only pre-existing warnings

[2026-01-22] Phase 1, Task 3: Added max retry count to rate limit handling
- Modified: apps/controller/src/utils/messages.ts:44-97
- Added maxRetries constant (5) and retries counter
- Throws error after max retries exceeded instead of retrying forever
- Resets retry counter on successful fetch
- Ran lint: passed with only pre-existing warnings
- Phase 1 (Critical Fixes) now complete
